
# 엔티티
## 엔티티 생성

### Question
1. 엔터티 클래스 생성
   [new -> class]
```java
package com.mysite.sbb;

import java.time.LocalDateTime;
import java.util.List;

import jakarta.persistence.CascadeType;
import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.persistence.OneToMany;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import lombok.Getter;
import lombok.Setter;

@Getter
@Setter
@Entity
public class Question {
	@Id
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	private Integer id;
	
	@Column(length = 200)
	private String subject;
	
	@Column(columnDefinition = "TEXT")
	private String content;
	
	private LocalDateTime createDate;
	
	@OneToMany(mappedBy = "question", cascade = CascadeType.REMOVE)
	private List<Answer> answerList; // #### [Error] Answer cannot be resolved to a type 
}

```
2. 실행
3. h2 확인

#### [Error] jakarta.persistence.Entity 임포트 오류
build.gradle 에 의존성 추가
```groovy
    dependencies {
        implementation 'jakarta.persistence:jakarta.persistence-api:3.0.0'
    }
```

#### [Error] Answer cannot be resolved to a type 
Answer 엔티티 생성하면 사라짐


# 레포지토리
## 레포지토리 생성
1. jpa 의존성 추가
```
implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
```
1. com.mysite.sbb 패키지 [new -> interface]
2. JpaRepository 라이브러리 추가
3. JpaRepository 클래스 상속
```java
package com.mysite.sbb;

import org.springframework.data.jpa.repository.JpaRepository;

public interface QuestionRepository extends JpaRepository<Question, Integer>{

}
```

## Junit 테스트
1. junit 의존성 추가
2. test 코드 작성 (src/test/java/com/mysite/sbb 에 SbbApplicationTests.java)
```java
package com.mysite.sbb;

import java.time.LocalDateTime;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest
class SbbApplicationTests {
	@Autowired
	private QuestionRepository questionRepository;
	
	@Test
	void contextLoads() {
		Question q1 = new Question();
		q1.setSubject("sbb가 무엇인가요?"); // [Error] The method setSubject(String) is undefined for the type Question
		q1.setContent("sbb에 대해서 알고 싶습니다."); // [Error] The method setSubject(String) is undefined for the type Question
		q1.setCreateDate(LocalDateTime.now()); // [Error] The method setSubject(String) is undefined for the type Question
		this.questionRepository.save(q1);
		
	}

}

```
3. 실행 및 결과 확인


#### [Error] The method setSubject(String) is undefined for the type Question